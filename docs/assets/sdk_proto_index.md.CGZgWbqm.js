import{_ as n,a as s,p as e,e as t,t as i,a3 as o,o as r}from"./chunks/framework.8_iCw7Np.js";const k=JSON.parse('{"title":"ApiHug DSL & Protocol Buffers","description":"ApiHug Leverage the Protocol Buffers to design the DSL","frontmatter":{"title":"ApiHug DSL & Protocol Buffers","description":"ApiHug Leverage the Protocol Buffers to design the DSL"},"headers":[],"relativePath":"sdk/proto/index.md","filePath":"sdk/proto/index.md","lastUpdated":1714795370000}'),l={name:"sdk/proto/index.md"},p={id:"frontmatter-title",tabindex:"-1"},c=e("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{ $frontmatter.title }}"'},"​",-1),d=o(`<p>ApiHug leverages the Protocol Buffers to design its Domain Specific Language (DSL). By utilizing the mature and concise syntax of Protocol Buffers, ApiHug is exceptionally well-suited for implementing the Open API Specification (OAS).</p><p>The industry has already established a solid foundation for designing API protocols using Protobuf, such as Google Open API Protos. ApiHug builds upon this foundation, refining and simplifying it to create a brand-new, more concise, and user-friendly API DSL.</p><h2 id="protocol-buffers" tabindex="-1">Protocol Buffers <a class="header-anchor" href="#protocol-buffers" aria-label="Permalink to &quot;Protocol Buffers&quot;">​</a></h2><p><a href="https://protobuf.dev/" target="_blank" rel="noreferrer">Protocol Buffers</a> are language-neutral, platform-neutral extensible mechanisms for serializing structured data.</p><blockquote><p>Protocol buffers are Google’s language-neutral, platform-neutral, extensible mechanism for serializing structured data – think XML, but smaller, faster, and simpler. You define how you want your data to be structured once, then you can use special generated source code to easily write and read your structured data to and from a variety of data streams and using a variety of languages.</p></blockquote><h3 id="proto-definition-and-modulation" tabindex="-1">Proto definition and modulation <a class="header-anchor" href="#proto-definition-and-modulation" aria-label="Permalink to &quot;Proto definition and modulation&quot;">​</a></h3><div class="language-protobuf vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">protobuf</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>message Person {</span></span>
<span class="line"><span>  optional string name = 1;</span></span>
<span class="line"><span>  optional int32 id = 2;</span></span>
<span class="line"><span>  optional string email = 3;</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>The modularity in Protocol Buffers is achieved through the use of the <code>&#39;import&#39;</code> statement, which is widely adopted and highly mature in popular programming languages like Python and Java.</p><p>This approach allows for seamless integration and code reuse, making it a preferred choice for developers in these languages.</p><p>To import another <code>.proto</code>’s definitions, you add an import statement to the top of your file:</p><div class="language-protobuf vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">protobuf</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>import &quot;myproject/other_protos.proto&quot;;</span></span></code></pre></div><h2 id="grpc" tabindex="-1">gRPC <a class="header-anchor" href="#grpc" aria-label="Permalink to &quot;gRPC&quot;">​</a></h2><p><a href="https://grpc.io/" target="_blank" rel="noreferrer">gRPC</a> A high performance, open source universal RPC framework.</p><blockquote><p>gRPC is a modern open source high performance Remote Procedure Call (RPC) framework that can run in any environment. It can efficiently connect services in and across data centers with pluggable support for load balancing, tracing, health checking and authentication. It is also applicable in last mile of distributed computing to connect devices, mobile applications and browsers to backend services.</p></blockquote><h3 id="grpc-service-definition" tabindex="-1">gRPC Service definition <a class="header-anchor" href="#grpc-service-definition" aria-label="Permalink to &quot;gRPC Service definition&quot;">​</a></h3><p>gRPC can use protocol buffers as both its Interface Definition Language (IDL) and as its underlying message interchange format:</p><div class="language-protobuf vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">protobuf</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// The greeter service definition.</span></span>
<span class="line"><span>service Greeter {</span></span>
<span class="line"><span>  // Sends a greeting</span></span>
<span class="line"><span>  rpc SayHello (HelloRequest) returns (HelloReply) {}</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// The request message containing the user&#39;s name.</span></span>
<span class="line"><span>message HelloRequest {</span></span>
<span class="line"><span>  string name = 1;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// The response message containing the greetings</span></span>
<span class="line"><span>message HelloReply {</span></span>
<span class="line"><span>  string message = 1;</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="dsl" tabindex="-1">DSL <a class="header-anchor" href="#dsl" aria-label="Permalink to &quot;DSL&quot;">​</a></h2><blockquote><p>The critical complexity of most software projects is in understanding the domain itself. By Eric Evans in Domain-Driven Design</p></blockquote><p>Being easy to understand should be the gold standard of good and maintainable software.</p><blockquote><p>A domain-specific language (DSL) is a computer language specialized to a particular application domain.</p></blockquote><p>Domain Specific Language(Common Language) closes the gap between:</p><ul><li>Domain Experts</li><li>Technical Experts</li><li>Working Software &amp; Tests</li></ul><p>ApiHug aims to bridge the gap between various stakeholders involved in API development, including Business Analysts, Project Managers, Architects, UI designers, and Testers. It achieves this by providing a common language for defining APIs that transcends specific formats like Swagger&#39;s JSON/YAML or programming languages like Java and Python.</p><p>ApiHug&#39;s goal is to facilitate effective communication and collaboration among diverse team members, ensuring a shared understanding and streamlined development process.</p><p>We ultimately selected Protocol Buffers as the baseline for our DSL due to several reasons:</p><ul><li>It enjoys widespread popularity, making it easily accessible and adoptable.</li><li>The mature community support surrounding Protocol Buffers reduces the associated risks.</li><li>The existence of a well-practiced toolchain ensures a cost-effective development process.</li></ul><h2 id="refer" tabindex="-1">Refer <a class="header-anchor" href="#refer" aria-label="Permalink to &quot;Refer&quot;">​</a></h2><ol><li><a href="https://protobuf.dev/" target="_blank" rel="noreferrer">Protocol Buffers</a></li><li><a href="https://grpc.io/" target="_blank" rel="noreferrer">gRPC</a></li><li><a href="https://en.wikipedia.org/wiki/Domain-specific_language" target="_blank" rel="noreferrer">Domain-specific language-wikipedia</a></li><li><a href="https://martinfowler.com/dsl.html" target="_blank" rel="noreferrer">Domain-Specific Languages Guide - Martin Fowler</a></li><li><a href="https://www.jetbrains.com/mps/concepts/domain-specific-languages/" target="_blank" rel="noreferrer">Domain-Specific Languages - Jetbrains</a></li><li><a href="https://github.com/grpc-ecosystem/grpc-gateway" target="_blank" rel="noreferrer">gRPC-Gateway</a> is a plugin of protoc. It reads a gRPC service definition and generates a reverse-proxy server which translates a RESTful JSON API into gRPC.</li><li><a href="https://github.com/googleapis/googleapis/tree/master/google/api" target="_blank" rel="noreferrer">Google Open API Protos</a> public Google APIs that support both REST and gRPC protocols.</li><li><a href="https://github.com/OAI/OpenAPI-Specification" target="_blank" rel="noreferrer">The OpenAPI Specification</a></li><li><a href="https://space.bilibili.com/666522636" target="_blank" rel="noreferrer">ApiHug101-Bilibili</a></li><li><a href="https://youtube.com/@ApiHug?si=C1yw0poHA01zbmyj" target="_blank" rel="noreferrer">ApiHug101-Youtube</a></li></ol>`,29);function u(a,g,f,h,m,b){return r(),s("div",null,[e("h1",p,[t(i(a.$frontmatter.title)+" ",1),c]),d])}const v=n(l,[["render",u]]);export{k as __pageData,v as default};
