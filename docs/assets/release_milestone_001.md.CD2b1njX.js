import{_ as a,a as e,p as s,e as t,t as n,a3 as l,o}from"./chunks/framework.8_iCw7Np.js";const p="/docs/assets/milstone02.BPja7Et9.png",r="/docs/assets/apihug-001.BHTKlBP1.gif",f=JSON.parse('{"title":"Milestone of 2024-02-22","description":"With SDK [0.6.0-RELEASE] and plugin  [0.2.0]","frontmatter":{"title":"Milestone of 2024-02-22","description":"With SDK [0.6.0-RELEASE] and plugin  [0.2.0]","og_image":"general-faqs.png"},"headers":[],"relativePath":"release/milestone/001.md","filePath":"release/milestone/001.md","lastUpdated":null}'),h={name:"release/milestone/001.md"},d={id:"frontmatter-title",tabindex:"-1"},k=s("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{ $frontmatter.title }}"'},"‚Äã",-1),c=l('<div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>After the SDK and plugin upgrade on February 22, 2024, the migration process was triggered. If you are using ApiHug after that date, you won&#39;t encounter any issues, and there is no need to refer to this document.</p></div><p>‚ö†Ô∏è This is an incompatible change, Both the SDK and IDE plugin not compatible with previous version.</p><p>‚ö†Ô∏è Upgrade the <a href="#spring-version">Spring boot</a> to <code>3.2+</code> and if any incompatible 3rd party libs(Cloud etc.)</p><p>üòÜ GuideÔºö</p><ol><li><a href="https://space.bilibili.com/666522636" target="_blank" rel="noreferrer">ApiHug101-Bilibili</a></li><li><a href="https://youtube.com/@ApiHug?si=C1yw0poHA01zbmyj" target="_blank" rel="noreferrer">ApiHug101 Youtube</a></li></ol><p><a target="_blank" href="https://search.maven.org/artifact/com.apihug/it-bom"><img src="https://img.shields.io/maven-central/v/com.apihug/it-bom.svg?label=Maven%20Central"></a></p><p><a href="https://plugins.jetbrains.com/plugin/23534-apihug--api-design-copilot" target="_blank" rel="noreferrer">ApiHug - API design Copilot</a></p><h2 id="apihug-0-6-0-release-2024-02-22" tabindex="-1">ApiHug [0.6.0-RELEASE] - 2024-02-22 <a class="header-anchor" href="#apihug-0-6-0-release-2024-02-22" aria-label="Permalink to &quot;ApiHug [0.6.0-RELEASE] -  2024-02-22&quot;">‚Äã</a></h2><h3 id="sdk-features" tabindex="-1">SDK Features <a class="header-anchor" href="#sdk-features" aria-label="Permalink to &quot;SDK Features&quot;">‚Äã</a></h3><ul><li><code>google.protobuf.BoolValue</code> -&gt; <code>hope.common.BoolType</code>, less code, more straightforward. <a href="./../../blog/2024Q1/20240222-3-kinds-boolean-issue">3 kinds Boolean</a></li><li>message field deprecated flag picker logic</li><li><code>authorization_struct</code> --&gt; <code>rbac</code> make it more human friendly: <code>RBAC rbac = 2;</code></li><li>support <code>hope.common.BoolType blank = 49;</code> for the <code>String</code> specific field <ul><li><code>empty</code> vs <code>blank</code>, blank more for the string field, string field may not empty, but may be blank, as it include no qualify character, like space, tab, etc.</li></ul></li><li>bug fix</li></ul><h2 id="apihug-ide-0-2-0-2024-02-22" tabindex="-1">ApiHug-IDE [0.2.0] - 2024-02-22 <a class="header-anchor" href="#apihug-ide-0-2-0-2024-02-22" aria-label="Permalink to &quot;ApiHug-IDE [0.2.0] -  2024-02-22&quot;">‚Äã</a></h2><h3 id="ide-features" tabindex="-1">IDE Features <a class="header-anchor" href="#ide-features" aria-label="Permalink to &quot;IDE Features&quot;">‚Äã</a></h3><ol><li>new wire info panel, link to enum</li><li>auto refresh after edit</li><li>upgrade the AST parser</li><li>authority auto complete</li><li>bugfix</li></ol><h2 id="steps" tabindex="-1">Steps <a class="header-anchor" href="#steps" aria-label="Permalink to &quot;Steps&quot;">‚Äã</a></h2><p><strong>Upgrade SDK+IDE Version</strong>Ôºö</p><h2 id="project" tabindex="-1">Project <a class="header-anchor" href="#project" aria-label="Permalink to &quot;Project&quot;">‚Äã</a></h2><ol><li><code>{PROJECT}/gradle/libs.versions.toml</code></li><li><code>apihug = &quot;OLD_VERSION&quot;</code> -&gt; <code>0.6.0-RELEASE</code>+</li></ol><h2 id="plugin" tabindex="-1">Plugin <a class="header-anchor" href="#plugin" aria-label="Permalink to &quot;Plugin&quot;">‚Äã</a></h2><ol><li>download: <a href="https://plugins.jetbrains.com/plugin/23534-apihug--api-design-copilot" target="_blank" rel="noreferrer">ApiHug - API design Copilot</a> <code>0.2.0</code>+</li><li>upgrade in IDE:</li></ol><p><img src="'+p+`" alt="milestone02"></p><h3 id="code" tabindex="-1">Code <a class="header-anchor" href="#code" aria-label="Permalink to &quot;Code&quot;">‚Äã</a></h3><p><strong>1.<code>google.protobuf.BoolValue</code> -&gt; <code>hope.common.BoolType</code></strong></p><p>üèÅ find all the broken like:</p><div class="language-proto vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">proto</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    empty: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      value: false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span></code></pre></div><p><strong>Change TO</strong>:</p><div class="language-proto vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">proto</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    empty: FALSE;</span></span></code></pre></div><p><strong>2. <code>authorization_struct</code> --&gt; <code>rbac</code></strong></p><p>üèÅ find all the broken like:</p><div class="language-proto vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">proto</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       authorization_struct: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          authorities: &quot;PLATFORM_MEMBER_OPERATE&quot;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          combinator: OR;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          predefined_role_checker: PLATFORM_MANAGER</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span></code></pre></div><p><strong>Change TO</strong>:</p><div class="language-proto vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">proto</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       rbac: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          authorities: &quot;PLATFORM_MEMBER_OPERATE&quot;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          combinator: OR;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          predefined_role_checker: PLATFORM_MANAGER</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span></code></pre></div><p>ü•≥ü•≥ü•≥ all done!</p><h2 id="spring-version" tabindex="-1">Spring version <a class="header-anchor" href="#spring-version" aria-label="Permalink to &quot;Spring version&quot;">‚Äã</a></h2><ol><li>check the spring version: <code>3.2+</code></li><li>other 3rd party lib: <strong>cloud(2023+)</strong>, <strong>mybatis</strong> etc.</li><li>search google for the key words, or contact me!</li></ol><p><strong>factoryBeanObjectType</strong> issue <a href="https://github.com/spring-projects/spring-framework/issues/31247" target="_blank" rel="noreferrer">Invalid value type for attribute &#39;factoryBeanObjectType&#39;: java.lang.String</a>:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java.lang.IllegalStateException:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> processing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> condition</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SpringBootCondition.java:60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Caused</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> java.lang.IllegalArgumentException:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Invalid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> value</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> attribute</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;factoryBeanObjectType&#39;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> java.lang.String</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getTypeForFactoryBeanFromAttributes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FactoryBeanRegistrySupport.java:86</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AbstractAutowireCapableBeanFactory.java:837</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  ...</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 15</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> common</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> frames</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> omitted</span></span></code></pre></div><p><strong>MappingJdbcConverter</strong> issue;</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hope.common.spring.data.persistence.config.HopeAbstractJdbcConfiguration.jdbcConverter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HopeAbstractJdbcConfiguration.java:133</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  ...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Caused</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> java.lang.ClassNotFoundException:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> org.springframework.data.jdbc.core.convert.MappingJdbcConverter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> java.base/java.lang.ClassLoader.loadClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ClassLoader.java:520</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 66</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> common</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> frames</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> omitted</span></span></code></pre></div><hr><p><img src="`+r+'" alt="api-hug-contact"></p>',40);function g(i,u,E,F,y,b){return o(),e("div",null,[s("h1",d,[t(n(i.$frontmatter.title)+" ",1),k]),c])}const C=a(h,[["render",g]]);export{f as __pageData,C as default};
