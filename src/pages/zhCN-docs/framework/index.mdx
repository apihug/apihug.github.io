---
title: ApiHug SDK Common Extension
description: ApiHug SDK Common extension
---

import { TipInfo } from '@/components/Tip'

## Common

`Hope` å¸¦æ¥æ¡†æ¶å±‚å‡ ä¸ªæ‰©å±•ï¼š

| ç±»åˆ«                  | å¤‡æ³¨                        |
|---------------------|---------------------------|
| `it-common`         | åŒ…å«ï¼šé€šç”¨è¾…åŠ©ç±»(Utils), é€šç”¨åè®®å®šä¹‰   |
| `it-common-api`     | æ¶‰åŠåˆ°APIé€šç”¨ç±»ï¼Œè¾…åŠ©ç±»å®šä¹‰           |
| `it-common-mock`    | è¿è¡Œæ—¶ mock ä¸Šä¸‹æ–‡å®šä¹‰            |
| `it-common-spring*` | spring æ‰©å±•ï¼Œè¯¦ç»†å‚è€ƒä¸‹é¢spring ç³»åˆ— |


## it-common

| åŒ…å            | å¤‡æ³¨                         | èŒƒå›´     |
|---------------|----------------------------|--------|
| `async`       | åŒ…å«ä¸¤ä¸ªé€šç”¨ Executor Globalå¸®åŠ©ç±»  | å¯é€‰     |
| `contract`    | contract æµ‹è¯•åè®®å®šä¹‰            | mockä½¿ç”¨ |
| `enumeration` | å¸¸é‡å®šä¹‰åè®®                     | **å¿…é¡»** |
| `meta`        | æ¡†æ¶ `meta`ä¿¡æ¯å®šä¹‰ï¼Œæ¡†æ¶éœ€è¦(è¿è¡Œæ—¶ä¸éœ€è¦) | æ¡†æ¶     |
| `persistence` | æ¡†æ¶ ORMdå®šä¹‰ä¿¡æ¯ï¼Œæ¡†æ¶éœ€è¦(è¿è¡Œæ—¶ä¸éœ€è¦)   | æ¡†æ¶     |
| `runtime`     | è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œä½œä¸ºactuatorä¿¡æ¯æš´éœ²ï¼Œæ¡†æ¶å¤„ç† | æ¡†æ¶     |
| `script`      | IDEA æ‰©å±•å†…åµŒscript éœ€è¦ï¼Œè¿è¡Œæ—¶ä¸éœ€è¦  | æ¡†æ¶     |
| `service`     | API æœåŠ¡ä¿¡æ¯annotation,è¿è¡Œæ—¶ä¿¡æ¯   | æ¡†æ¶     |

1. å¤§éƒ¨åˆ†æ˜¯æ¡†æ¶è¿è¡Œæ—¶ä¾èµ–çš„å¯¹è±¡ï¼Œåœ¨è‡ªå·±ä¸šåŠ¡é€»è¾‘ä»£ç åŸºæœ¬ä¸éœ€è¦å¼•ç”¨ï¼›
2. `enumeration` æ˜¯æ¡†æ¶å†…å®šä¹‰éœ€è¦å¯¹å¤–æš´éœ²å¸¸é‡å›ºå®šèŒƒå¼ï¼Œä½¿ç”¨ proto æ–¹å¼å®šä¹‰ä¼šè‡ªåŠ¨ç¬¦åˆæ­¤æ ‡å‡†ï¼›

## it-common-api

åŒ…å« API è¿è¡Œæ—¶å®šä¹‰å…¬ç”¨æ•°æ®ç±»å‹å’Œå¸®åŠ©ç±»ï¼›

| ç±»å              | å¤‡æ³¨              |
|-----------------|-----------------|
| `PageRequest`   | åˆ†é¡µæŸ¥è¯¢Parameterå¯¹è±¡ |
| `Pageable`      | åˆ†é¡µæ•°æ®é›†           |
| `Result`        | æ ‡å‡†APIè¿”å›ç»“æœ       |
| `ResultBuilder` | Result Builder  |

### åˆ†é¡µ

å‚è€ƒSpring:

1. [org.springframework.data.domain.PageRequest](https://github.com/spring-projects/spring-data-commons/blob/main/src/main/java/org/springframework/data/domain/PageRequest.java)
2. [org.springframework.data.domain.Pageable](https://github.com/spring-projects/spring-data-commons/blob/main/src/main/java/org/springframework/data/domain/Pageable.java)

**åˆ†é¡µè¯·æ±‚-PageRequest**

| åç§°       | å¤‡æ³¨                                                                                                                             |
|----------|--------------------------------------------------------------------------------------------------------------------------------|
| `page`   | Zero-based page index (0..N)                                                                                                   |
| `size`   | Size of the page to be returned                                                                                                |
| `offSet` | infinite scroll load this is the last offset if any key specific                                                               |
| `sort`   | Sorting criteria in the format: property,(asc or desc). Default sort order is ascending. Multiple sort criteria are supported. |


**åˆ†é¡µæ•°æ®é›†-Pageable**

| åç§°          | å¤‡æ³¨     |
|-------------|--------|
| `pageIndex` | å½“å‰é¡µç    |
| `pageSize`  | æœ¬é¡µå¯¹è±¡æ•°é‡ |
| `totalPage` | æ€»æ•°     |
| `totalPage` | æ€»é¡µæ•°    |
| `data`      | å¯¹è±¡åˆ—è¡¨   |

### è¿”å›ä½“

**è¿”å›å¯¹è±¡-Result**


| åç§°        | å¤‡æ³¨             |
|-----------|----------------|
| `code`    | è¿”å›ç ,éé›¶å¤±è´¥ï¼Œé›¶æˆåŠŸ   |
| `message` | è¿”å›æç¤ºä¿¡æ¯         |
| `payload` | ä¿¡æ¯è½½ä½“ ï¼ˆæ³›ç±»å‹å¯¹è±¡ Tï¼‰ |
| `errors`  | é”™è¯¯åˆ—è¡¨ `Error`   |


### Error

`Hope` é€šç”¨é”™è¯¯å®šä¹‰ï¼š

| åç§°              | å¤‡æ³¨         | ä¾‹å­                            |
|-----------------|------------|-------------------------------|
| `code`          | é”™è¯¯ä»£ç        | 100002401                     |
| `title`         | é”™è¯¯æ ‡é¢˜       | USER_NAME_EMPTY               |
| `description`   | é”™è¯¯æè¿°       | user name should not be empty |
| `description2`  | é”™è¯¯æè¿°2      | ç”¨æˆ·åä¸å¯ä»¥ä¸ºç©º                      |
| `path`          | field path | user.name                     |
| `field`         | field name | name                          |
| `rejectedValue` | è¢«æ‹’ç»å€¼(åŸå€¼)   | jake                          |
| `constraint`    | çº¦æŸ         | NOT_NULL                      |
| `tips`          | æç¤º         | ä»·æ ¼å¿…é¡»æ˜¯æ­£æ•°å¦‚:1000.12              |
| `phase`         | é˜¶æ®µ         | CONTROLLER                    |
| `severity`      | ä¸¥é‡ç¨‹åº¦       | ERROR                         |
| `domain`        | domain     | account                       |
| `properties`    | æ‰©å±•å­—æ®µï¼ˆMapï¼‰  | -                             |
| `httpStatus`    | httpçŠ¶æ€     | BAD_REQUEST                   |


#### Phase

| åç§°           | å¤‡æ³¨         | ä¾‹å­  |
|--------------|------------|-----|
| `CONTROLLER` | Controller | è¡¨å•å±‚ |
| `SERVICE`    | Service    | æœåŠ¡å±‚ |
| `DOMAIN`     | Domain     | é¢†åŸŸå±‚ |



#### Severity

| åç§°      | å¤‡æ³¨    | ä¾‹å­         |
|---------|-------|------------|
| `LOW`   | Low   | ä½,æ— å½±å“      |
| `WARN`  | Warn  | è­¦å‘Š,ä¸šåŠ¡é”™è¯¯å¯é‡è¯• |
| `ERROR` | Error | é”™è¯¯,ä¸šåŠ¡æ— æ³•è¿›è¡Œ  |
| `FATAL` | Fatal | ç¾éš¾,æ•°æ®ç ´å    |


#### HttpStatus

åŒ…å«æ ‡å‡†çš„ Http çŠ¶æ€ç ï¼Œ ä¸ä¸€ä¸€æšä¸¾ï¼Œæ¯”å¦‚ BAD_REQUEST(400), FORBIDDEN(403);


## it-common-mock

mock å®åœ¨åœ¨æ²¡æœ‰ç¼–å†™ä¸€è¡Œä»£ç çš„æƒ…å†µä¸‹å¯ä»¥æµ‹è¯•æ¥å£çš„æ•°æ®æ ¼å¼ï¼›æœ‰å•ç‹¬ mock çš„ä»‹ç»è¯´æ˜ï¼›


<TipInfo>To be done ğŸ—ï¸</TipInfo>
